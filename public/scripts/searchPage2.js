(this["webpackJsonpadmin-panel-video-portal"]=this["webpackJsonpadmin-panel-video-portal"]||[]).push([[0],{100:function(e,t,a){"use strict";a.r(t);var r={};a.r(r),a.d(r,"get",(function(){return E})),a.d(r,"getAll",(function(){return y}));var n=a(0),o=a.n(n),c=a(6),i=a.n(c),l=a(62),s=a(11),u=a(14);function d(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}var m=function(e){return e&&function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?d(a,!0).forEach((function(t){Object(s.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):d(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}({},e,{name:e.first_name,year:Math.floor(60*Math.random()+1960),thumbnail:e.avatar,genres:e.email,actors:"".concat(e.first_name," ").concat(e.last_name)})},p=a(40),b=a.n(p),g=a(58),f=a(41),v=a.n(f);var h="".concat(window.location.origin,"/movies/pagination"),O=function(){var e=Object(g.a)(b.a.mark((function e(t){var a,r,n,o,c,i,l,s,u,d;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=t.method,r=void 0===a?"get":a,n=t.headers,o=void 0===n?{}:n,c=t.params,i=t.body,l=localStorage.getItem("accessToken"),o.Authorization="Bearer ".concat(l),s=t.url.startsWith("http")?t.url:h+t.url,u={headers:o,params:c},e.prev=5,"get"!==r){e.next=12;break}return e.next=9,v.a[r](s,u);case 9:e.t0=e.sent,e.next=15;break;case 12:return e.next=14,v.a[r](s,i,u);case 14:e.t0=e.sent;case 15:return d=e.t0,e.abrupt("return",t.fullResponse?d:d.data);case 19:return e.prev=19,e.t1=e.catch(5),e.abrupt("return",(m=e.t1,p="".concat(r," request error"),void console.error(p,m)));case 22:case"end":return e.stop()}var m,p}),e,null,[[5,19]])})));return function(t){return e.apply(this,arguments)}}(),E=function(e){return O({url:"users/".concat(e)}).then((function(e){return m(e.data)}))},y=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.start,a=void 0===t?0:t,r=e.limit,n=void 0===r?10:r,o=e.search,c=e.sort;return O({url:"",params:{search:o,start:a,limit:n,sort:c}}).then((function(e){return{data:e.data.map(m),total:e.total}}))},w=a(134),j=a(145),P=a(146),S=a(143),x=a(141),k=a(147),N=a(142),B=a(149),C=a(144),D=a(59),I=a.n(D),A=a(137),W=a(139),R=a(140),T=a(60),M=a.n(T),U=Object(w.a)((function(e){return{input:{color:e.palette.primary.contrastText,marginLeft:e.spacing(1),marginRight:e.spacing(1),backgroundColor:"rgba(255, 255, 255, 0.2)",padding:"3px 10px",borderRadius:4,flex:1},toolbar:{paddingLeft:e.spacing(1),paddingRight:e.spacing(1),color:e.palette.primary.contrastText,backgroundColor:e.palette.primary.main},adornment:{pointerEvents:"none"}}})),_="";function q(e){var t=e.setSearch,a=U(),r=I()((function(e){_!==e.trim()&&t(_=e.trim())}),500),c=Object(n.useCallback)((function(e){var t=e.target;r(t.value)}),[]);return o.a.createElement(A.a,{className:a.toolbar},o.a.createElement(W.a,{placeholder:"Search...",className:a.input,inputProps:{"aria-label":"search"},onChange:c,disableUnderline:!0,startAdornment:o.a.createElement(R.a,{position:"start",className:a.adornment},o.a.createElement(M.a,null))}))}var z=[{id:"thumbnail",numeric:!1,disablePadding:!1,label:"Cover"},{id:"nameEn",numeric:!1,disablePadding:!1,label:"NameEN"},{id:"nameUa",numeric:!1,disablePadding:!1,label:"NameUA"},{id:"producer",numeric:!0,disablePadding:!1,label:"Producer"},{id:"year",numeric:!0,disablePadding:!1,label:"Year"},{id:"artist",numeric:!1,disablePadding:!1,label:"Artist"},{id:"views",numeric:!1,disablePadding:!1,label:"Views"}];function H(e){var t=e.classes,a=e.order,r=e.orderBy,n=e.onRequestSort;return o.a.createElement(x.a,null,o.a.createElement(N.a,null,z.map((function(e){return o.a.createElement(S.a,{key:e.id,align:"left",padding:e.disablePadding?"none":"default",sortDirection:r===e.id&&a},o.a.createElement(B.a,{active:r===e.id,direction:a,onClick:(c=e.id,function(e){n(e,c)})},e.label,r===e.id?o.a.createElement("span",{className:t.visuallyHidden},"desc"===a?"sorted descending":"sorted ascending"):null));var c}))))}var J=Object(w.a)((function(e){return{root:{width:"100%",marginTop:e.spacing(3)},paper:{width:"100%",marginBottom:e.spacing(2),overflow:"hidden"},table:{minWidth:750},tableWrapper:{overflowX:"auto"},visuallyHidden:{border:0,clip:"rect(0 0 0 0)",height:1,margin:-1,overflow:"hidden",padding:0,position:"absolute",top:20,width:1},cover:{height:100,maxWidth:100,"& img":{height:100,maxWidth:100,verticalAlign:"bottom"}}}}));function L(e){var t=e.items,a=e.setOptions,r=e.setSearch,n=J(),c=o.a.useState("asc"),i=Object(u.a)(c,2),l=i[0],s=i[1],d=o.a.useState("calories"),m=Object(u.a)(d,2),p=m[0],b=m[1],g=o.a.useState(0),f=Object(u.a)(g,2),v=f[0],h=f[1],O=o.a.useState(5),E=Object(u.a)(O,2),y=E[0],w=E[1],x=y-Math.min(y,t.total-v*y);return o.a.createElement("div",{className:n.root},o.a.createElement(C.a,{className:n.paper},o.a.createElement(q,{setSearch:r}),o.a.createElement("div",{className:n.tableWrapper},o.a.createElement(j.a,{className:n.table,"aria-labelledby":"tableTitle",size:"medium","aria-label":"enhanced table"},o.a.createElement(H,{classes:n,order:l,orderBy:p,onRequestSort:function(e,t){var r=p===t&&"desc"===l?"asc":"desc";s(r),b(t),a({start:0,limit:y,sort:"".concat(t,":").concat(r)})}}),o.a.createElement(P.a,null,t.data.map((function(e){return o.a.createElement(N.a,{hover:!0,tabIndex:-1,key:e._id},o.a.createElement(S.a,{scope:"row",padding:"none"},o.a.createElement("div",{className:n.cover},o.a.createElement("img",{src:"".concat(window.location.origin,"/movie/static/images/").concat(e.sourceImg),alt:"cover"}))),o.a.createElement(S.a,{scope:"row"},e.nameEn),o.a.createElement(S.a,{scope:"row"},e.nameUa),o.a.createElement(S.a,null,e.producer),o.a.createElement(S.a,null,e.year),o.a.createElement(S.a,null,e.artist),o.a.createElement(S.a,null,e.views))})),x>0&&o.a.createElement(N.a,{style:{height:100*x}},o.a.createElement(S.a,{colSpan:6}))))),o.a.createElement(k.a,{rowsPerPageOptions:[5,10,25,50,100,200],component:"div",count:t.total,rowsPerPage:y,page:v,backIconButtonProps:{"aria-label":"previous page"},nextIconButtonProps:{"aria-label":"next page"},onChangePage:function(e,t){h(t),a({start:t*y,limit:y,sort:"".concat(p,":").concat(l)})},onChangeRowsPerPage:function(e){var t=parseInt(e.target.value,10);w(t),h(0),a({start:0,limit:t,sort:"".concat(p,":").concat(l)})}})))}function F(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}var V=document.getElementById("searchInput").textContent;function X(){var e=Object(n.useState)({data:[],total:0}),t=Object(u.a)(e,2),a=t[0],c=t[1],i=Object(n.useState)({}),l=Object(u.a)(i,2),d=l[0],m=l[1],p=Object(n.useState)(V),b=Object(u.a)(p,2),g=b[0],f=b[1];return Object(n.useEffect)((function(){r.getAll(function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?F(a,!0).forEach((function(t){Object(s.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):F(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}({},d,{search:g})).then((function(e){return c(e)}))}),[d,g]),o.a.createElement("main",{className:"container"},o.a.createElement("h1",{style:{textAlign:"center"}},"Movies"),o.a.createElement(L,{items:a,setOptions:m,setSearch:f}))}var Y=function(){return o.a.createElement(n.Fragment,null,o.a.createElement(X,null))},$=a(32),G=Object.create(null);var K=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:G;return(arguments.length>1?arguments[1]:void 0).type,e},Q=Object($.b)(K);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));a(99);i.a.render(o.a.createElement(l.a,{store:Q},o.a.createElement(Y,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))},70:function(e,t,a){e.exports=a(100)},99:function(e,t,a){}},[[70,1,2]]]);